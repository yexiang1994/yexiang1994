---
title: tomcat相关配置
tags: [tomcat]
---
## 一 把域名分别以不同端口配置在github上和tomcat服务器上
我的博客项目是hexo搭建的，直接部署在github上是默认以域名80端口部署的，显示即使 thdqn.cn。
后面因为想上传图片，图片都放在github上太多不太好，太占资源了，所以就用java写了上传图片的功能，想放在自己的服务器上，（虽然我的服务器很便宜，2年才 2.300，但是管理图片够用了）。
    现在的问题就是部署项目到服务器，并以thdqn.cn:8020端口访问；

1：首先更改阿里云域名设置，需要绑定github的主机地址和服务的。

2：接下来是服务器的，服务器默认一开始设置http也是按照80端口访问的，其他的端口就被限制住了，在
    服务器 **安全组配置** -> **配置规则** -> **添加安全组规则** -> 协议类型为tcp，修改 端口范围 
    不要包含80端口，然后修改下优先级比80的低，比如80的优先级是2，8081的就是1，阿里云的规则的数
    越大的优先级越大。修改错了，会找不到地址，这个错误是tomcat访问地址错误，因为读取的时候会优先找自己服务器的地址。

3: 修改tomcat上的默认访问端口：** conf -> swever.xml -> service 里面的connector  的 port 修改成8020即可 **;

## 二 tomcat打开gizp配置

修改tomcat上的域名访问地址：** conf -> swever.xml -> service 里面的connector**;
![](http://thdqn.cn:8081/imagePath/1554793274340.jpg)


